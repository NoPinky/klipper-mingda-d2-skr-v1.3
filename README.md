# klipper-mingda-d2-skr-v1.3
starting point for your own klipper config on Mingda D2 with SKR v1.3
# (useless) rambles
I have not found a single usable source online to have a working start with Klipper on the Mingda D2 with SKR v1.3 with LPC1768 MCU (IIRC there were 2 versions, one with an AVR MCU or something) and 5 TMC2209 drivers , so I had to do it myself. 
The main issue I had is that for this MCU you need another pin notation than on most of the other printer.cfg files I worked with. Not even the sample printer.cfg for this board on the official Klipper repo is in anyway useful. This MCU doesn't use the port notation (as the sample printer.cfg for SKR v1.3 wrongbly suggests) where the port names are A, B, C and so on, like PC12 is pin 12 of port C, but it looks like this: P0.19 for pin 19 of port 0. Anyway, I got it moving, homing, probing and printing with this config. However I will not optimize it further for now, because I have to many half working and broken printers. I hope the hours (more than I want to admit) I spent will help another one. Feel free to ask questions I will try to help if I have not yet disassemble it to build an AxiDraw. 

# (useful) notes
* I inlcuded the firmware.bin, you can use it if you want, or compile your own
* Included the board layout and schematics for you reference
* I left all the cabling as it came from factory. EXCEPT for one: the filament runout sensor needs to be plugged to the + port of the X endstop port. It was connected to the TFT which I don't use in this config. ALSO you need to switch the position of the cables in the plugs slot: since it is a 3 pin plug and the black and #red wires would connect to ground and 5V, it would short the circuit. So I had to change position so that it now connects to ground and P1.28. Take the wire coloring of the endstops as a reference. ^ activates the built-in pull-up resistor, but regarding to my measurements it only pulls up to around 2.35V, if not usuing it, it woulf 'float' around 1.3V IIRC.
* IMPORTANT: you need to remove all jumpers on the XST, YST, ZST, E0ST, E1ST otherwise your endstops will not work. I don't know how it was used in the Marlin firmware. Those jumpers basicalled hijacks/reroute the endstop signals to god-knows-where and was not available on the pins 1.29, 1.27 and 1.25 anymore.
* I had some issues with my extruder stepper motor only ratting/buzzing but not moving. A few years back I did put a custom firmware from a guy on the internet on it and also changed the extruder to a BMG (clone) and a V6 hotend setup. I can't remmeber if that custom firmware and new hotend setup ever worked correctly. So the buzzing might be an issue with the pin setup/wirring of the stepper and not really a faulty stepper. But I exchanged the stepper with a default stepper from creality I had laying around and it just worked. So if this also happens to you, you might investigate stepper wirring or try another stepper.
* In case you wondering why my rotation distance is strange: it's because of the BMG extruder.
* of course you need to modify your probe XYZ offset and also the probing max and min coordinates, depending on your setup.
* as it uses seperate drivers for each z-motor, you could use gantry leveling, which I also did not use in this config. 
